{% extends 'base.html' %}

{% block title %}Dashboard - Barbearia Elegante{% endblock %}

{% block content %}
<main class="main-content">
    <div class="container">

        <!-- Filtro de data -->
        <form method="get" style="margin-bottom: 20px;">
            <label for="data">Escolher dia:</label>
            <input type="date" id="data" name="data" value="{{ data|date:'Y-m-d' }}">
            <button type="submit" class="btn-cancel">Filtrar</button>
        </form>

        <!-- Botões rápidos -->
        <div class="quick-buttons" style="margin-bottom: 20px;">
            <a href="?quick=hoje" class="btn-default">Hoje</a>
            <a href="?quick=amanha" class="btn-default">Amanhã</a>
            <a href="?quick=ontem" class="btn-default">Ontem</a>
            <a href="?quick=semana" class="btn-default">Semana</a>
            <a href="?quick=mes" class="btn-default">Mês</a>
        </div>

        <!-- Estatísticas lado a lado -->
        <section class="stats-container">
            <div class="stat-card">
                <h3><i class="fas fa-cut"></i> Cabelos Cortados</h3>
                <p>{{ cabelos_cortados|default:0 }}</p>
            </div>
            <div class="stat-card">
                <h3><i class="fas fa-dollar-sign"></i> Receita</h3>
                <p>R$ {{ receita|default:'0,00' }}</p>
            </div>
            <div class="stat-card">
                <h3><i class="fas fa-users"></i> Clientes</h3>
                <p>{{ clientes|default:0 }}</p>
            </div>
        </section>

        <!-- Agendamentos -->
        <section class="section" id="agendamentos">
            <h2><i class="fas fa-calendar-alt"></i> Agendamentos do Dia</h2>
            <ul class="list">
                {% for agendamento in agendamentos_do_dia %}
                    <li class="list-item agendamento">
                        <strong>{{ agendamento.cliente.nome }}</strong> - {{ agendamento.data_hora|date:"H:i" }} - {{ agendamento.servico.nome }}
                    </li>
                {% empty %}
                    <li class="list-item agendamento">Nenhum agendamento para este dia.</li>
                {% endfor %}
            </ul>
        </section>
    </div>
</main>
{% endblock %}
